<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.clothing.dao.item.ItemCategoryDao">
	<resultMap id="ItemCategoryResult" type="com.clothing.model.item.ItemCategory">
		<result property="id" column="fid" />
		<result property="cu" column="fcu" />
		<result property="code" column="fcode" />
		<result property="name" column="fname" />
		<result property="status" column="fstatus" />
		<result property="parent.id" column="fkparentid" />
		<result property="userId" column="fuserid" />
		<result property="createTime" column="fcreatetime" />
		<result property="lastupdateUserId" column="flastupdateuserid" />
		<result property="lastupdateTime" column="flastupdatetime" />
	</resultMap>
	<select id="getItemCategoryById" parameterType="string"
		resultMap="ItemCategoryResult">
		SELECT T.*
		FROM t_clothing_itemcategory T where T.fid=#{id}
	</select>
	<select id="getItemCategoryByList" parameterType="map" resultMap="ItemCategoryResult">
		SELECT data.*
		FROM t_clothing_itemcategory data
		<where> 1=1
			<if test="code!=null and code!=''">
				and data.fcode=#{code}
			</if>
			<if test="name!=null and name !=''">
				and data.fname =#{name}
			</if>
		</where>
	</select>
	<insert id="insertItemCategory" parameterType="com.clothing.model.item.ItemCategory">
		insert into
		t_clothing_itemcategory(fid,fcu,fcode,fname,fstatus,fkparentid,fuserid,fcreatetime,flastupdateuserid,flastupdatetime)
		VALUES(#{id},#{cu},#{code},#{name},#{status},#{parent.id},#{userId},#{createTime},#{lastupdateUserId},#{lastupdateTime})
	</insert>

	<update id="updateItemCategory" parameterType="com.clothing.model.item.ItemCategory">
		update t_clothing_itemcategory
		<set>
			<if test="cu!=null and cu!=''">fcu=#{cu},</if>
			<if test="code!=null and code!=''">fcode=#{code},</if>
			<if test="name!=null and name!=''">fname=#{name},</if>
			<if test="status!=null">fstatus=#{status},</if>
			<if test="parent!=null and parent!=''">fkparentid=#{parent.id},</if>
			<if test="userId!=null and userId!=''">fuserid=#{userId},</if>
			<if test="createTime!=null">fcreatetime=#{createTime},</if>
			<if test="lastupdateUserId!=null and lastupdateUserId!=''">flastupdateuserid=#{lastupdateUserId},</if>
			<if test="lastupdateTime!=null">flastupdatetime=#{lastupdateTime},</if>
		</set>
		where fid=#{id}
	</update>

	<delete id="deleteItemCategoryById" parameterType="string">
		delete from t_clothing_itemcategory where fid=#{id}
	</delete>

</mapper>